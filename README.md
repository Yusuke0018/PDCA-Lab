# HabitLab（シンプル版）

毎日続けるための最小構成の習慣トラッカーです。余計な機能を排除し、
「毎日の習慣」+「シンプルなポイント」+「夜のチェックリスト」に絞りました。

このREADMEは、現在のシンプル機能のみを反映した最新版です。

## 概要
- ローカルのみで動作（ブラウザ`localStorage`に保存。キー: `hypolab_local_data`）。
- PWA対応（`manifest.webmanifest` + Service Worker）。オフラインで使えます。
- 画面はホーム中心。ナビゲーションバー/左右スワイプ/履歴ビューは廃止。
- 強度（軽め/高強度等）、カード/イベント/チャレンジ/支出系はすべて廃止。

## 主な機能
- 新規習慣の作成
  - タイトル/詳細/カテゴリ/開始日/期間（日数）を設定。
  - 実施頻度は「毎日」に固定。シャッフルやランダム要素なし。

- 進捗カレンダー（達成/未達成の二択）
  - 日付セルを押すと「達成（+1pt）/未達成（0pt）」の選択モーダルを表示。
  - 達成を選ぶと+1pt付与、未達成を選ぶ/戻すと付与済み1ptを取り消し（-1pt）。
  - 未来日は選択不可。過去〜今日の範囲で選択できます。
  - 達成率は「達成日数/総日数」で表示（強度・週次補正なし）。

- 夜のチェックリスト（+1pt/項目）
  - ホーム下部の「🌙 夜のチェックリスト」で、自由に項目を追加・削除。
  - 項目のチェックで+1pt付与。未チェックへ戻してもポイントは減算しません。
  - 日付の切り替えは深夜2時基準（0〜1:59は前日扱い）で自動リセットされます。

- ポイント/レベル（生涯加算のみ）
  - 習慣の達成: +1pt、チェックリストの完了: +1pt。
  - ポイントは使い道なし（消費・前借り・報酬は廃止）。
  - 累計ポイントでレベル表示（ヘッダー右）。称号は段階的に表示されます。

## 使い方
1. `hypolab-local.html` をブラウザで開きます（PWAとしてホームに追加も可）。
2. ホーム → 「➕ 新規習慣立案」からタイトル/期間（日数）等を入力して作成。
3. 進捗カレンダーの日付を押し、「達成/未達成」を選んで記録。
4. 毎晩、夜のチェックリストの項目をチェック（+1pt）。

## 仕様の注意点
- データ保存: ブラウザ`localStorage`のみ（キー: `hypolab_local_data`）。
  - 端末/ブラウザを跨いだ同期はありません。移行には手動エクスポート/インポート（将来提供）をご利用ください。
- 深夜2時ルール: 夜のチェックリストは2時で日付が切り替わります（0〜1:59は前日扱い）。
- 廃止したもの: カード/イベント/チャレンジ/努力ボーナス/ジャーナル/履歴/統計/スワイプ/ナビ。

## PWA/キャッシュ更新
- PWAとしてインストール可能。オフラインで利用できます。
- 更新が反映されない場合は、コンソールから `forceUpdateApp()` を実行するか、ハードリロードを行ってください（Service Workerのキャッシュを更新します）。

## ファイル構成（主要）
- `hypolab-local.html` … 画面レイアウト（ホーム/進捗/チェックリスト）
- `js/hypolab-local.js` … 本体ロジック（習慣/カレンダー/ポイント/チェックリスト）
- `css/hypolab-local.css` … スタイル
- `sw.v*.js` … Service Worker（キャッシュ制御）
- `manifest.webmanifest` … PWA マニフェスト

## ライセンス/プライバシー
- すべてローカル保存で、外部へデータは送信しません（オフライン動作）。
- ライセンスについては本リポジトリの方針に従います。

---
このシンプル版は「なにを、いつ、やったか」を最短で残せることを目的としています。
フィードバックに応じて、必要最小限の改善のみを継続します。

